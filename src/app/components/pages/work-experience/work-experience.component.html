<div class="work-experience__header">
  <h2 class="work-experience__header__title">Job Positions</h2>
  <p class="work-experience__header__subtitle">
    Job positions, responsibilities, competences developed, objectives and achievements.
  </p>
</div>

<app-job-position-form
  *ngIf="isFormModalOpen"
  [isEditMode]="editMode"
  [jobPositionData]="currentJobPosition"
  (closeJobPositionFormModal)="closeFormModal()"
  (submitJobPosition)="editMode ? editJobPosition($event) : addJobPosition($event)"
></app-job-position-form>
<div class="work-experience__add-position-button">
  <button
    [ngStyle]="{ display: showLoggedInElements ? '' : 'none' }"
    class="custom-button btn"
    (click)="openFormModal()"
  >
    + Add Job Position
  </button>
</div>

<div class="work-experience" *ngIf="jobPositionsCardData$">
  <app-job-position-card
    *ngFor="let cardData of (jobPositionsCardData$ | async)?.slice()?.reverse()"
    [data]="cardData"
    (editJobPosition)="openEditJobPositionModal(cardData)"
    (deleteJobPosition)="deleteJobPosition(cardData)"
  ></app-job-position-card>
</div>

<app-arrows-previous-next-section [arrowsText]="arrowsData"></app-arrows-previous-next-section>
